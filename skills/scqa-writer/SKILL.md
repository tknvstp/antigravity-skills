---
name: scqa-writer
description: 当用户明确使用「SCQA」时启用。引导用户运用 SCQA 框架（情境 Situation、冲突 Complication、问题 Question、回答 Answer）进行结构化写作，通过三阶段流程（信息搜集、结构构建、读者验证）确保输出逻辑严密、层次分明。
---

# SCQA 写作专家

通过三阶段结构化流程，引导用户构建逻辑严密的 SCQA 内容。

## SCQA 要素定义

| 要素 | 定义 | 核心作用 |
|------|------|----------|
| S (Situation) | 读者已知且认同的背景 | 建立共识，确保同频 |
| C (Complication) | 现状中发生的变化或障碍 | 打破平衡，引发关注 |
| Q (Question) | 基于冲突产生的关键疑问 | 聚焦核心，引导思考 |
| A (Answer) | 解决方案或结论 | 回应问题，给出行动 |

详细的 SCQA 变体模式和常见错误请参阅 [scqa_patterns.md](references/scqa_patterns.md)

不同场景的模板请参阅 examples/ 目录

---

## 三阶段流程

### Stage 1: 信息搜集

目标：理解用户的写作目标和已有素材

#### 初始问询

启动时询问以下信息：
1. 目标受众是谁
2. 希望读者读完后产生什么想法或行动
3. 已有哪些素材（背景、结论、或两者都有）

用户可以用简短方式回答，或直接倾倒信息。

#### 识别切入点

根据用户提供的信息，判断其切入点：

| 用户已有 | 引导方向 |
|----------|----------|
| 只有 S（背景） | 询问「发生了什么变化」引导 C，再问「这带来什么问题」引导 Q |
| 只有 A（结论） | 询问「这个方案是为了解决什么问题」引导 Q，再问「问题的背景是什么」引导 S、C |
| 有 S + C | 引导用户提炼 Q |
| 有 S + C + Q | 直接进入 A 的构建 |

#### 工具集成

如有可用工具，可主动提供：
- 读取用户提供的文件
- 抓取 URL 内容作为背景材料
- 搜索相关信息补充上下文

#### 退出条件

当以下条件满足时，进入 Stage 2：
- 已明确目标受众和期望影响
- 已识别用户的切入点
- 用户确认准备好开始构建

过渡语：询问是否还有其他背景信息需要补充，或者是否准备开始构建 SCQA 结构。

---

### Stage 2: 结构构建与迭代

目标：逐步构建完整的 SCQA 结构，并通过迭代精炼

#### Step 1: 构建 S（情境）

引导用户描述读者已知的背景：
- 尽量客观
- 只保留与 C 直接相关的内容
- 控制在 1-2 句话

生成初稿后询问是否需要调整。

#### Step 2: 构建 C（冲突）

引导用户描述变化或障碍：
- 强调与 S 的对比
- 体现张力和紧迫感
- 自然过渡到 Q

术语具体化检查：
- 避免模糊术语（如「素材」「分析工作」）
- 使用具体列举（如「文档、案例和素材」「场景分析、需求梳理、方案设计」）
- 模糊术语会导致读者先问「是什么」而非「怎么办」

生成初稿后询问是否需要调整。

#### Step 3: 验证 Q

基于 S + C，引导用户提炼 Q：
- Q 应该是读者看完 S + C 后自然产生的疑问
- Q 的类型：如何做（How）、是什么（What）、为什么（Why）

验证标准：读完 S + C 后，受众是否会自然产生 Q 这个疑问。若不能，需调整 S 或 C。

#### Step 4: 构建 A（回答）

A 的结构必须遵循金字塔原则：
1. 先总后分：一句话结论 + 分点支撑
2. MECE 原则：子论点相互独立、完全穷尽
3. 层级清晰：A 可展开为 A1、A2、A3

迭代精炼模式：
1. 头脑风暴 5-10 个可能的论点
2. 用户筛选保留/删除/合并
3. 查漏补缺
4. 生成初稿
5. 根据反馈修改

#### Step 5: 整合输出

按以下固定格式输出，SCQA 部分控制在 2 分钟可读完。

输出格式规范：
- 使用 # 和 ## 作为标题层级
- 使用有序或无序列表组织内容
- 禁止使用加粗、引号、波折号

```
# 概要

## 情境
（一段，简洁描述背景）

## 冲突
（一段，指出变化或挑战）

## 问题
（一句，基于冲突引发的核心疑问）

## 回答
（一段，给出核心结论）

# 具体信息

## 分论点1
- 支撑细节1
- 支撑细节2

## 分论点2
- 支撑细节1
- 支撑细节2
```

#### 文档输出

在生成 SCQA 内容的同时，创建 md 文档：

文件命名规则：
- 格式：scqa_[主题]_[日期].md
- 示例：scqa_ai写作工具提案_20251226.md

文档管理：
- 首次生成时创建新文件
- 后续迭代时更新同一文件（使用 str_replace）
- 在文档末尾记录版本历史

文档结构：
```
# [主题] SCQA

## 概要
（SCQA 内容）

## 具体信息
（金字塔结构的 A）

---
## 版本历史
- v1.0 [日期]: 初稿
- v1.1 [日期]: 根据反馈调整 C 的表述
```

#### 退出条件

当用户对 SCQA 结构满意时，询问是否进入读者验证阶段。

---

### Stage 3: 读者验证

目标：用无上下文的视角验证 SCQA 结构的有效性

#### 如有 Subagent 能力

直接执行以下验证，无需用户参与：

##### 验证 1: S+C 是否引导出 Q

调用 subagent，仅提供 S 和 C，询问：
- 读完这段话，你最想知道什么
- 这个疑问属于哪种类型（How/What/Why）
- 为什么会产生这个疑问（简要说明推理过程）

验证标准（重要）：
- 接受「类型匹配」而非「表述一致」
- 如 Q 是 How 类型，subagent 回答 How 类型即可
- Subagent 缺乏背景知识，可能产生信息收集型问题，这是正常的
- 真实受众有完整上下文，反应会不同

若类型不匹配，报告：
- Subagent 产生的疑问及其类型
- 期望的 Q 及其类型
- 差异分析
- 建议调整 C 的表述（使用更具体的术语）

##### 验证 2: A 是否回应 Q

调用 subagent，提供 Q 和 A，询问：
- 这个回答是否直接解决了问题
- 是否有遗漏或跑题

##### 验证 3: A 的论证是否合乎逻辑

调用 subagent，仅提供 A 的结构，询问：
- 论点之间是否有逻辑关系
- 是否符合 MECE 原则
- 是否有逻辑漏洞或跳跃

##### 验证 4: 整体一致性

调用 subagent 阅读完整 SCQA，同时提供 [scqa_patterns.md](references/scqa_patterns.md) 作为参考，检查：
- 是否有内部矛盾
- 是否有模糊或假设未说明
- 2 分钟内能否读完并理解
- 是否符合常见错误检查表（参见 scqa_patterns.md 第四节）

汇总问题并循环回 Stage 2 修正。

#### 如无 Subagent 能力

引导用户手动验证：

1. 打开一个新的 Claude 对话
2. 仅粘贴 S + C，询问「读完这段话，你最想知道什么」
3. 检查回答是否与 Q 一致
4. 粘贴完整 SCQA，询问「这个论证有没有逻辑问题」

根据结果循环回 Stage 2 修正。

#### 退出条件

当所有验证通过时，文档完成。

---

## 最终交付

验证通过后：
1. 提供最终版本
2. 建议用户自行通读一遍
3. 提醒检查事实、数据的准确性

---

## 流程控制

处理用户偏离：
- 如用户想跳过某阶段：询问是否改为自由模式
- 如用户表现出不耐烦：承认流程较长，提供快速模式选项
- 始终给予用户调整流程的主动权

上下文管理：
- 发现信息缺失时主动询问
- 不让疑问积累，及时澄清
